{% extends 'base.html.twig' %}

{% block title %}Ouvrages{% endblock %}

{% block body %}
<section class="mx-auto max-w-7xl mt-32 mb-10 px-4">
    <h1 class="text-center text-4xl font-bold text-gray-900 dark:text-white">Ouvrages</h1>

    <div class="mt-12">
        {% if books is not empty %}
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-5">
                {% for book in books %}
                    <div class="max-w-sm p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow hover:shadow-lg transition">
                        <div class="flex justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-indigo-500 dark:text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
                            </svg>
                        </div>

                        <a href="{{ path('app_book_view', { 'slug': book.slug }) }}">
                            <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ book.title }}</h5>
                        </a>

                        <p class="mb-3 font-normal text-gray-500 dark:text-gray-400">
                            {{ book.description|slice(0, 100) ~ '...' }}
                        </p>

                        <div class="flex flex-wrap gap-2 py-2">
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300">{{ book.category.name }}</span>
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300">{{ book.author.name }}</span>
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300">{{ book.language.name }}</span>
                        </div>

                        <a href="{{ path('app_book_view', { 'slug': book.slug }) }}" class="inline-flex items-center mt-4 text-indigo-600 dark:text-indigo-400 font-medium hover:underline">
                            Voir plus
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                            </svg>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-center text-gray-500 dark:text-gray-400 text-lg">Aucun ouvrage trouv√©.</p>
        {% endif %}
    </div>
</section>
{% endblock %}
